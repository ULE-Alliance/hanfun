<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>HAN-FUN API: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ule-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">HAN-FUN API
   &#160;<span id="projectnumber">1.2.3</span>
   </div>
   <div id="projectbrief">This project provides the common implementation of ULE Alliance&#39;s HAN-FUN application protocol.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">HAN-FUN API Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This project aims at providing an implementation of the <a href="http://www.ulealliance.org/">ULE Alliance</a> HAN-FUN application specification.</p>
<h2>Overview</h2>
<p>A HAN-FUN network is composed by a concentrator (base) and one or more nodes, in a star configuration, all the nodes connect to the concentrator that serves a router between all the nodes in the network.</p>
<p>A HAN-FUN device, either concentrator or node, is composed of one or more units. Each unit implements a profile, i.e. a predefined configuration of interfaces and any number of optional interfaces.</p>
<p>HAN-FUN interfaces have two roles, <em>Client</em> and <em>Server</em> and define what attributes are present in each role. They also define the commands supported between each role.</p>
<p>In each device there is a special unit, unit 0, that provides core infrastructure services, for example, the <b>Device Management</b> service, the <b>Device Information</b> service and the <b>Attribute Reporting</b> service.</p>
<p>In order to access the HAN-FUN network, a node must first register it self with the base to obtain it's HAN-FUN address, by using the commands available in the Device Management service.</p>
<p>This address will then be used to send/receive packets from the network.</p>
<h2>Project Setup</h2>
<p>This project is implemented in C++ and depends only on the standard C++ library for usage, however the unit tests and example applications depend on third-party libraries.</p>
<p>The build system used is <a href="http://www.cmake.org/">CMake</a>.</p>
<ul>
<li>Dependencies<ul>
<li>gcc (&gt;= 4.6)</li>
<li>cmake (&gt;= 2.8.11)</li>
</ul>
</li>
<li>Building: <pre class="fragment">$ mkdir build/
$ cd build/
$ cmake ..
$ make
$ make doc # Build the documentation
</pre></li>
</ul>
<p>The Doxygen generated API documentation can be found <a href="http://ULE-Alliance.github.io/hanfun">here</a>.</p>
<p>The project will follow <a href="http://nvie.com/posts/a-successful-git-branching-model/">this</a> convention for development. The following helper <a href="https://github.com/nvie/gitflow">scripts</a> are available.</p>
<p>The versions of the project follow the <a href="http://semver.org/">SemVer 2.0.0</a> specification.</p>
<h2>Testing</h2>
<p>Currently the build of the unit tests is only supported when compiling using the code from the repository.</p>
<p>To build the unit tests present in the source code, issue the following commands (on the root of the project): </p><pre class="fragment">$ git submodule init
$ git submodule update
$ mkdir build
$ cd build
$ CMake -DHAN-FUN_BUILD_TESTS=ON ..
$ make
</pre><p>The unit tests will be run at the end of the compilation if not cross-compiling.</p>
<p>To re-run the tests, issue: </p><pre class="fragment">$ make check
</pre><h2>Examples</h2>
<p>The folder <em>apps/</em> contains two example applications, one for the concentrator (base) side and one for the node side.</p>
<p>The <em>apps/example_XX.cpp</em> files contain standalone applications that demo API usage. Use <b>make example_XX</b> to build each application or <b>make examples</b> to build all of them.</p>
<p>The applications communicate over TCP/IP. The support for this transport layer is based on the <a href="https://github.com/joyent/libuv">libuv</a>. This is downloaded and build automatically when building the example applications is requested.</p>
<p>To build the example applications, issue the following commands (on the root of the project): </p><pre class="fragment">$ mkdir build
$ cd build
$ cmake -DHF_BUILD_APPS=ON ..
$ make
</pre><p>This will build the example applications for the base (<em>build/apps/base</em>) and for the node (<em>build/apps/node</em>).</p>
<p>The <em>base</em> application demonstrates the registration of nodes in a HAN-FUN network and the binding of nodes that have complementary interfaces.</p>
<p>The <em>node</em> application demonstrates, a simple switch or a simple light application.</p>
<p>For example to register a <em>simple switch</em> and <em>simple light</em> to the <em>base</em> and bind the <em>switch</em> to the <em>light</em> so that when the <em>switch toggles</em> it toggles the <em>light</em>.</p>
<ul>
<li>Open three terminals and start the applications; <pre class="fragment">$ apps/base    (Base)
$ apps/node 1  (Simple Switch)
$ apps/node 2  (Simple Light)
</pre></li>
<li>Change the first node application to a simple switch; <pre class="fragment">&gt; ss
</pre></li>
<li>Change the second node application to a simple light; <pre class="fragment">&gt; sl
</pre></li>
<li>Start registration on the base and register the simple switch; <pre class="fragment">&gt; r 1 1 (on the base terminal)
&gt; r (on the switch terminal)
&gt; a (check device address, it should be 1)
</pre></li>
<li>Start registration on the base and register the simple light; <pre class="fragment">&gt; r 1 2 (on the base terminal)
&gt; r (on the light terminal)
&gt; a (check device address, it should be 2)
</pre></li>
<li>Bind the <em>switch</em> to the <em>light</em>; <pre class="fragment">&gt; b 1 2 (on the base terminal)
</pre></li>
<li>Send a toggle command from the <em>switch</em> to the <em>light</em> : <pre class="fragment">&gt; toggle (on the switch terminal)
</pre></li>
</ul>
<p>The last command should make the node application configured as a <em>light</em> print that a toggle command was received.</p>
<p>Please see the help in the applications for further features.</p>
<h2>Contributing</h2>
<ol type="1">
<li>Fork it!</li>
<li>Create your feature branch: <code>git checkout -b my-new-feature</code></li>
<li>Commit your changes: <code>git commit -am 'Add some feature'</code></li>
<li>Push to the branch: <code>git push origin my-new-feature</code></li>
<li>Submit a pull request (PR).</li>
</ol>
<h2>Author</h2>
<ul>
<li>Initial development by <a href="http://www.bithium.com">Bithium S.A.</a></li>
</ul>
<h2>License</h2>
<p>This library is released under dual-license, <a href="http://www.gnu.org/licenses/gpl-2.0.html">GLPv2</a> and <a href="http://www.apache.org/licenses/LICENSE-2.0.txt">Apache 2.0</a>.</p>
<p>Please see the file 'LICENSE' in the root folder for further information. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Mar 11 2015 17:50:33 for HAN-FUN API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
